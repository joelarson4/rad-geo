require=function e(o,t,i){function a(n,s){if(!t[n]){if(!o[n]){var u="function"==typeof require&&require;if(!s&&u)return u(n,!0);if(r)return r(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}var c=t[n]={exports:{}};o[n][0].call(c.exports,function(e){var t=o[n][1][e];return a(t?t:e)},c,c.exports,e,o,t,i)}return t[n].exports}for(var r="function"==typeof require&&require,n=0;n<i.length;n++)a(i[n]);return a}({1:[function(e,o){"use strict";function t(e,o){p=document.createElement("div"),p.className="rad-geo-container",p.style.backgroundColor="black",p.id="rad-geo-cesiumjs-container",document.body.appendChild(p),i(10,e,o)}function i(e,o,t){if("undefined"==typeof Cesium)return 0>=e?void alert("Cesium could not be loaded?"):setTimeout(function(){i(e--,o,t)},100);var a={animation:!1,timeline:!1,geocoder:!1,navigationHelpButton:!1,baseLayerPicker:!1,fullscreenButton:!1,homeButton:!1,sceneModePicker:!1};n(),g=new Cesium.Viewer(p.id,a),document.querySelector(".cesium-infoBox-iframe").setAttribute("sandbox","allow-same-origin allow-popups allow-forms allow-scripts")}function a(e){if("undefined"==typeof Cesium||null==g)return void setTimeout(function(){a(e)},100);var o=e.data.geo["goto"],t=e.data.geo.pin,i=e.data.geo.zoom,r=e.data.geo.speed,n=e.data.geo.style;n&&l(n),"pin"==o&&t?m(t,i,r):o?m(o,i,r):i&&m([],i,r),t?c(t):d(),p.style.display="block"}function r(){p.style.display="none"}function n(){h={NASA_BLACKMARBLE:function(){return new Cesium.TileMapServiceImageryProvider({url:"//cesiumjs.org/tilesets/imagery/blackmarble",maximumLevel:8,credit:"Black Marble imagery courtesy NASA Earth Observatory"})}},Object.keys(Cesium.BingMapsStyle).forEach(function(e){h["BING_"+e]=function(){return u(e)}}),Object.keys(h).forEach(function(e){["SCENE2D","SCENE3D","COLUMBUS_VIEW"].forEach(function(o){b[o+"_"+e]={sceneMode:o,imagery:e}})})}function s(e){w!==e&&("SCENE2D"==e?g.scene.morphTo2D(2):"SCENE3D"==e?g.scene.morphTo3D(2):"COLUMBUS_VIEW"==e&&g.scene.morphToColumbusView(2),w=e)}function u(e){var o="rad-geo-cesium-bingMapsApi-defaultKey",t=localStorage.getItem(o);return t?Cesium.BingMapsApi.defaultKey=t:console.log("Once you have a bing maps key, set it using `localStorage.setItem('"+o+"', 'your-key');`.  Meanwhile, some functionality may not be available."),new Cesium.BingMapsImageryProvider({url:"//dev.virtualearth.net",key:t,mapStyle:Cesium.BingMapsStyle[e]})}function l(e){var o=g.scene.imageryLayers,t=v[b[e].imagery];if(t)o.raiseToTop(t);else{var i=h[b[e].imagery];t=o.addImageryProvider(i()),v[b[e].imagery]=t}s(b[e].sceneMode)}function c(e){if("keep"!=e){d();var o=new Cesium.PinBuilder;e.forEach(function(e){var t=(e.color||"WHITE/RED").split("/"),i=t.pop(),a=t.length?t[0]:"WHITE",r=g.entities.add({position:Cesium.Cartesian3.fromDegrees(e.lon,e.lat),billboard:{image:o.fromColor(Cesium.Color[i],48).toDataURL(),verticalOrigin:Cesium.VerticalOrigin.BOTTOM},label:new Cesium.LabelGraphics({text:e.label||"",outlineColor:Cesium.Color.WHITE,outlineWidth:0,fillColor:Cesium.Color[a],pixelOffset:new Cesium.Cartesian2(0,20),style:Cesium.LabelStyle.FILL_AND_OUTLINE})});y.push(r)})}}function d(){y.forEach(function(e){g.entities.remove(e)}),y=[]}function m(e,o,t){if("keep"==e)throw new Error("we don't yet support goto=pins pins=keep");var i=Number(o),a="undefined"==typeof o;(a||isNaN(i))&&(i=6,a=!0);var r=Math.pow(10,Math.abs(i)),n=Number(t);("undefined"==typeof t||isNaN(n))&&(n=2e3);var s=f(e,r);g.camera.flyTo({destination:s,duration:n/1e3})}function f(e,o){var t;if(0==e.length){var i=g.camera.positionCartographic;t=Cesium.Cartesian3.fromRadians(i.longitude,i.latitude,o)}else if(1==e.length)t=Cesium.Cartesian3.fromDegrees(e[0].lon,e[0].lat,o);else{var t,a=e.map(function(e){return new Cesium.Cartographic.fromDegrees(e.lon,e.lat,o)}),r=Cesium.Rectangle.fromCartographicArray(a),i=Cesium.Rectangle.center(r);zoomDefaulted&&(o=4/3*Cesium.Ellipsoid.WGS84.cartesianToCartographic(g.camera.getRectangleCameraCoordinates(r)).height),t=Cesium.Cartesian3.fromRadians(i.longitude,i.latitude,o)}return t}var p,g,y=(e("rad-reveal"),[]);if("undefined"==typeof Cesium){var C=document.createElement("link");C.setAttribute("rel","stylesheet"),C.setAttribute("href","node_modules/cesiumjs/Build/Cesium/Widgets/widgets.css"),document.head.appendChild(C),head.js("node_modules/cesiumjs/Build/Cesium/Cesium.js")}var v={},h={},b={},w="SCENE3D";o.exports={initialize:t,show:a,hide:r}},{"rad-reveal":"rad-reveal"}],"/Users/larsonj/Sites/radReveal/rad-geo/src/geo.js":[function(e){"use strict";function o(e){var o=[],t=e.split(";");return t.forEach(function(e){e=e.replace("\\,","x002C");var t=e.split(","),i=Number(t[0].trim().match(y)[0]);t[0].toUpperCase().indexOf("S")>-1&&(i=-1*Math.abs(i));var a=Number(t[1].trim().match(y)[0]);t[1].toUpperCase().indexOf("W")>-1&&(a=-1*Math.abs(a));var r=(t[2]||"").trim();r=r.replace("x002C",",");var n=(t[3]||"").trim();o.push({lat:i,lon:a,label:r,original:e,color:n})}),o}function t(o,t){m=o||{};var i=m.mapProviderModule;d="string"==typeof i?e(i):"object"==typeof i?i:e("./protoMapProvider.js"),d.initialize(m.mapProviderConfig,t)}function i(e,o){o.data.geo={}}function a(e,o){o!=f&&(f=o,d.show(o))}function r(e,o){o!=p&&(p=o,d.hide(o))}function n(e,t){var i="pin"==e?"pin":o(e);t.data.geo["goto"]=i,"function"==typeof d.setGoto&&d.setGoto(i)}function s(e,t){var i="keep"==e?"keep":o(e);t.data.geo.pin=i,"function"==typeof d.setPins&&d.setPins(i)}function u(e,o){var t=2e3;"slow"==e?t=5e3:"medium"==e?t=2e3:"fast"==e?t=500:"instant"==e?t=0:(t=Number((e.match(y)||["2000"])[0]),isNaN(t)&&(t=2e3)),o.data.geo.speed=t,"function"==typeof d.setSpeed&&d.setSpeed(t)}function l(e,o){o.data.geo.zoom=e,"function"==typeof d.setZoom&&d.setZoom(e)}function c(e,o){o.data.geo.style=e,"function"==typeof d.setStyle&&d.setStyle(e)}var d,m,f,p,g=e("rad-reveal"),y=/(-)?(\d)*(\.)?(\d)*/;e("./cesiumMapProvider.js"),g.register("geo",t),g.on("data-rad-geo*","load",i),g.on("data-rad-geo*","hide",r),g.on("data-rad-geo-goto","show",n),g.on("data-rad-geo-pin","show",s),g.on("data-rad-geo-speed","show",u),g.on("data-rad-geo-zoom","show",l),g.on("data-rad-geo-style","show",c),g.on("data-rad-geo*","show",a)},{"./cesiumMapProvider.js":1,"./protoMapProvider.js":2,"rad-reveal":"rad-reveal"}],2:[function(e,o){"use strict";function t(){n=document.createElement("div"),n.className="rad-geo-container",n.style.backgroundColor="cyan",document.body.appendChild(n),r("init")()}function i(){n.style.display="block",r("show")()}function a(){n.style.display="none",r("hide")()}function r(e){return function(o){u.push(s++ +" "+e+" "+(o?JSON.stringify(o):"")),u.length>10&&u.shift(),n.innerHTML=u.join("<br>"),o&&"function"==typeof o.callback&&o.callback()}}var n;alert("fixme!");var s=0,u=[];o.exports={initialize:t,setSpeed:r("setSpeed"),setZoom:r("setZoom"),setLoc:r("setLoc"),setGoto:r("setGoto"),show:i,hide:a}},{}]},{},["/Users/larsonj/Sites/radReveal/rad-geo/src/geo.js"]);