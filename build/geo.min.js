require=function e(o,i,t){function r(n,s){if(!i[n]){if(!o[n]){var l="function"==typeof require&&require;if(!s&&l)return l(n,!0);if(a)return a(n,!0);var u=new Error("Cannot find module '"+n+"'");throw u.code="MODULE_NOT_FOUND",u}var d=i[n]={exports:{}};o[n][0].call(d.exports,function(e){var i=o[n][1][e];return r(i?i:e)},d,d.exports,e,o,i,t)}return i[n].exports}for(var a="function"==typeof require&&require,n=0;n<t.length;n++)r(t[n]);return r}({1:[function(e,o){"use strict";function i(e){d=document.createElement("div"),d.className="rad-geo-container",d.style.backgroundColor="black",d.id="rad-geo-cesiumjs-container",document.body.appendChild(d),t(10,e),u("init")()}function t(e,o){if("undefined"==typeof Cesium)return 0>=e?void alert("Cesium could not be loaded?"):setTimeout(function(){t(e--,o)},100);var i={animation:!1,timeline:!1,geocoder:!1,navigationHelpButton:!1,baseLayerPicker:!1,fullscreenButton:!1,homeButton:!1,sceneModePicker:!1};if(o)if("string"==typeof o.imageryProviderClass){var r=o.imageryProviderClass,a=o.imageryProviderConfig;if("BingMapsImageryProvider"!=r)throw new Error("Unknown imageryProviderClass");var n="rad-geo-cesium-bingMapsApi-defaultKey",s=localStorage.getItem(n);s?Cesium.BingMapsApi.defaultKey=s:console.log("Once you have a bing maps key, set it using `localStorage.setItem('"+n+"', 'your-key');`.  Meanwhile, some functionality may not be available."),a&&a.mapStyle&&(a={url:"//dev.virtualearth.net",key:s,mapStyle:Cesium.BingMapsStyle[a.mapStyle]}),i.imageryProvider=new Cesium[r](a)}else"object"==typeof o.imageryProvider&&(i.imageryProvider=o.imageryProvider);c=new Cesium.Viewer(d.id,i),document.querySelector(".cesium-infoBox-iframe").setAttribute("sandbox","allow-same-origin allow-popups allow-forms allow-scripts")}function r(e){if("undefined"==typeof Cesium)return void setTimeout(function(){r(e)},100);var o=e.data.geo["goto"],i=e.data.geo.pin,t=e.data.geo.zoom,a=e.data.geo.speed;"pin"==o&&i?l(i,t,a):o?l(o,t,a):t&&l([],t,a),i?(console.log("pin"),console.log(i),n(i)):(console.log("clear"),s()),d.style.display="block"}function a(){d.style.display="none"}function n(e){if("keep"!=e){s();var o=new Cesium.PinBuilder;e.forEach(function(e){var i=(e.color||"BLACK/RED").split("/"),t=i.pop(),r=i.length?i[0]:"BLACK",a=c.entities.add({position:Cesium.Cartesian3.fromDegrees(e.lon,e.lat),billboard:{image:o.fromColor(Cesium.Color[t],48).toDataURL(),verticalOrigin:Cesium.VerticalOrigin.BOTTOM},label:new Cesium.LabelGraphics({text:e.label||"",outlineColor:Cesium.Color.WHITE,outlineWidth:1,fillColor:Cesium.Color[r],pixelOffset:new Cesium.Cartesian2(0,20),style:Cesium.LabelStyle.FILL_AND_OUTLINE})});m.push(a)})}}function s(){m.forEach(function(e){c.entities.remove(e)}),m=[]}function l(e,o,i){if("keep"==e)throw new Error("we don't yet support goto=pins pins=keep");var t=Number(o),r="undefined"==typeof o;(r||isNaN(t))&&(t=1e6,r=!0);var a=Number(i);("undefined"==typeof i||isNaN(a))&&(a=2e3);var n;if(0==e.length){var s=c.camera.positionCartographic;n=Cesium.Cartesian3.fromRadians(s.longitude,s.latitude,t)}else if(1==e.length)n=Cesium.Cartesian3.fromDegrees(e[0].lon,e[0].lat,t);else{var n,l=e.map(function(e){return new Cesium.Cartographic.fromDegrees(e.lon,e.lat,t)}),u=Cesium.Rectangle.fromCartographicArray(l),s=Cesium.Rectangle.center(u);r&&(t=4/3*Cesium.Ellipsoid.WGS84.cartesianToCartographic(c.camera.getRectangleCameraCoordinates(u)).height),n=Cesium.Cartesian3.fromRadians(s.longitude,s.latitude,t)}c.camera.flyTo({destination:n,duration:a/1e3})}function u(e){return function(o){console.log(JSON.stringify([e,o]))}}var d,c,m=(e("rad-reveal"),[]);if("undefined"==typeof Cesium){var f=document.createElement("link");f.setAttribute("rel","stylesheet"),f.setAttribute("href","node_modules/cesiumjs/Build/Cesium/Widgets/widgets.css"),document.head.appendChild(f),head.js("node_modules/cesiumjs/Build/Cesium/Cesium.js")}o.exports={initialize:i,show:r,hide:a}},{"rad-reveal":"rad-reveal"}],"/Users/larsonj/Sites/radReveal/rad-geo/src/geo.js":[function(e){"use strict";function o(o){c=o||{};var i=c.mapProviderModule;d="string"==typeof i?e(i):"object"==typeof i?i:e("./protoMapProvider.js"),d.initialize(c.mapProviderConfig)}function i(e,o){o.data.geo={}}function t(e,o){o!=m&&(m=o,d.show(o))}function r(e,o){o!=f&&(f=o,d.hide(o))}function a(e){var o=[],i=e.split(";");return i.forEach(function(e){e=e.replace("\\,","x002C");var i=e.split(","),t=Number(i[0].trim().match(g)[0]);i[0].toUpperCase().indexOf("S")>-1&&(t=-1*Math.abs(t));var r=Number(i[1].trim().match(g)[0]);i[1].toUpperCase().indexOf("W")>-1&&(r=-1*Math.abs(r));var a=(i[2]||"").trim();a=a.replace("x002C",",");var n=(i[3]||"").trim();o.push({lat:t,lon:r,label:a,original:e,color:n})}),o}function n(e,o){var i="pin"==e?"pin":a(e);o.data.geo["goto"]=i,"function"==typeof d.setGoto&&d.setGoto(i)}function s(e,o){var i="keep"==e?"keep":a(e);o.data.geo.pin=i,"function"==typeof d.setPins&&d.setPins(i)}function l(e,o){var i=2e3;"slow"==e?i=5e3:"medium"==e?i=2e3:"fast"==e?i=500:"instant"==e?i=0:(i=Number((e.match(g)||["2000"])[0]),isNaN(i)&&(i=2e3)),o.data.geo.speed=i,"function"==typeof d.setSpeed&&d.setSpeed(i)}function u(e,o){o.data.geo.zoom=e,"function"==typeof d.setZoom&&d.setZoom(e)}var d,c,m,f,p=e("rad-reveal");e("./cesiumMapProvider.js");var g=/(-)?(\d)*(\.)?(\d)*/;p.register("geo",o),p.on("data-rad-geo*","load",i),p.on("data-rad-geo*","hide",r),p.on("data-rad-geo-goto","show",n),p.on("data-rad-geo-pin","show",s),p.on("data-rad-geo-speed","show",l),p.on("data-rad-geo-zoom","show",u),p.on("data-rad-geo*","show",t)},{"./cesiumMapProvider.js":1,"./protoMapProvider.js":2,"rad-reveal":"rad-reveal"}],2:[function(e,o){"use strict";function i(){n=document.createElement("div"),n.className="rad-geo-container",n.style.backgroundColor="cyan",document.body.appendChild(n),a("init")()}function t(){n.style.display="block",a("show")()}function r(){n.style.display="none",a("hide")()}function a(e){return function(o){l.push(s++ +" "+e+" "+(o?JSON.stringify(o):"")),l.length>10&&l.shift(),n.innerHTML=l.join("<br>"),o&&"function"==typeof o.callback&&o.callback()}}var n;alert("fixme!");var s=0,l=[];o.exports={initialize:i,setSpeed:a("setSpeed"),setZoom:a("setZoom"),setLoc:a("setLoc"),setGoto:a("setGoto"),show:t,hide:r}},{}]},{},["/Users/larsonj/Sites/radReveal/rad-geo/src/geo.js"]);