require=function e(o,t,i){function r(n,s){if(!t[n]){if(!o[n]){var l="function"==typeof require&&require;if(!s&&l)return l(n,!0);if(a)return a(n,!0);var u=new Error("Cannot find module '"+n+"'");throw u.code="MODULE_NOT_FOUND",u}var d=t[n]={exports:{}};o[n][0].call(d.exports,function(e){var t=o[n][1][e];return r(t?t:e)},d,d.exports,e,o,t,i)}return t[n].exports}for(var a="function"==typeof require&&require,n=0;n<i.length;n++)r(i[n]);return r}({1:[function(e,o){"use strict";function t(e){u=document.createElement("div"),u.className="rad-geo-container",u.style.backgroundColor="black",u.id="rad-geo-cesiumjs-container",document.body.appendChild(u),i(10,e),l("init")()}function i(e,o){if("undefined"==typeof Cesium)return 0>=e?void alert("Cesium could not be loaded?"):setTimeout(function(){i(e--,o)},100);var t={animation:!1,timeline:!1,geocoder:!1,navigationHelpButton:!1,baseLayerPicker:!1,fullscreenButton:!1,homeButton:!1,sceneModePicker:!1};if(o)if("string"==typeof o.imageryProviderClass){var r=o.imageryProviderClass,a=o.imageryProviderConfig;if("BingMapsImageryProvider"!=r)throw new Error("Unknown imageryProviderClass");var n="rad-geo-cesium-bingMapsApi-defaultKey",s=localStorage.getItem(n);s?Cesium.BingMapsApi.defaultKey=s:console.log("Once you have a bing maps key, set it using `localStorage.setItem('"+n+"', 'your-key');`.  Meanwhile, some functionality may not be available."),a&&a.mapStyle&&(a={url:"//dev.virtualearth.net",key:s,mapStyle:Cesium.BingMapsStyle[a.mapStyle]}),t.imageryProvider=new Cesium[r](a)}else"object"==typeof o.imageryProvider&&(t.imageryProvider=o.imageryProvider);d=new Cesium.Viewer(u.id,t),document.querySelector(".cesium-infoBox-iframe").setAttribute("sandbox","allow-same-origin allow-popups allow-forms allow-scripts")}function r(e){if("undefined"==typeof Cesium)return void setTimeout(function(){r(e)},100);var o=e.data.geo["goto"],t=e.data.geo.pin;o&&s("pin"==o&&t?t:o),t&&n(t),u.style.display="block"}function a(){u.style.display="none"}function n(e){var o=new Cesium.PinBuilder;c.forEach(function(e){d.entities.remove(e)}),c=[],e.forEach(function(e){var t=(e.color||"BLACK/RED").split("/"),i=t.pop(),r=t.length?t[0]:"BLACK",a=d.entities.add({position:Cesium.Cartesian3.fromDegrees(e.lon,e.lat),billboard:{image:o.fromColor(Cesium.Color[i],48).toDataURL(),verticalOrigin:Cesium.VerticalOrigin.BOTTOM},label:new Cesium.LabelGraphics({text:e.label||"",outlineColor:Cesium.Color.WHITE,outlineWidth:4,fillColor:Cesium.Color[r],pixelOffset:new Cesium.Cartesian2(0,20),style:Cesium.LabelStyle.FILL_AND_OUTLINE})});c.push(a)})}function s(e){if(1==e.length)d.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(e[0].lon,e[0].lat,25e5)});else{var o=[];e.forEach(function(e){o.push(new Cesium.Cartographic.fromDegrees(e.lon,e.lat,25e4))});var t=Cesium.Rectangle.fromCartographicArray(o);d.camera.flyTo({destination:t,complete:function(){d.camera.zoomOut()}})}}function l(e){return function(o){console.log(JSON.stringify([e,o]))}}var u,d,c=(e("rad-reveal"),[]);if("undefined"==typeof Cesium){var m=document.createElement("link");m.setAttribute("rel","stylesheet"),m.setAttribute("href","node_modules/cesiumjs/Build/Cesium/Widgets/widgets.css"),document.head.appendChild(m),head.js("node_modules/cesiumjs/Build/Cesium/Cesium.js")}o.exports={initialize:t,setSpeed:l("setSpeed"),setZoom:l("setZoom"),show:r,hide:a}},{"rad-reveal":"rad-reveal"}],"/Users/larsonj/Sites/radReveal/rad-geo/src/geo.js":[function(e){"use strict";function o(o){c=o||{};var t=c.mapProviderModule;d="string"==typeof t?e(t):"object"==typeof t?t:e("./protoMapProvider.js"),d.initialize(c.mapProviderConfig)}function t(e,o){o.data.geo={}}function i(e,o){o!=m&&(m=o,d.show(o))}function r(e,o){o!=f&&(f=o,d.hide(o))}function a(e){var o=[],t=e.split(";");return t.forEach(function(e){e=e.replace("\\,","x002C");var t=e.split(","),i=Number(t[0].trim().match(g)[0]);t[0].toUpperCase().indexOf("S")>-1&&(i=-1*Math.abs(i));var r=Number(t[1].trim().match(g)[0]);t[1].toUpperCase().indexOf("W")>-1&&(r=-1*Math.abs(r));var a=(t[2]||"").trim();a=a.replace("x002C",",");var n=(t[3]||"").trim();o.push({lat:i,lon:r,label:a,original:e,color:n})}),o}function n(e,o){var t="pin"==e?"pin":a(e);o.data.geo["goto"]=t,"function"==typeof d.setGoto&&d.setGoto(t)}function s(e,o){var t=a(e);o.data.geo.pin=t,"function"==typeof d.setPins&&d.setPins(t)}function l(e,o){var t=333;"slow"==t?t=1e3:"medium"==t?t=333:"fast"==t?t=100:(t=Number((e.match(g)||["333"])[0]),isNaN(t)&&(t=333)),o.data.geo.speed=t,"function"==typeof d.setSpeed&&d.setSpeed(t)}function u(e,o){o.data.geo.zoom=e,"function"==typeof d.setZoom&&d.setZoom(e)}var d,c,m,f,p=e("rad-reveal");e("./cesiumMapProvider.js");var g=/(-)?(\d)*(\.)?(\d)*/;p.register("geo",o),p.on("data-rad-geo*","load",t),p.on("data-rad-geo*","hide",r),p.on("data-rad-geo-goto","show",n),p.on("data-rad-geo-pin","show",s),p.on("data-rad-geo-speed","show",l),p.on("data-rad-geo-zoom","show",u),p.on("data-rad-geo*","show",i)},{"./cesiumMapProvider.js":1,"./protoMapProvider.js":2,"rad-reveal":"rad-reveal"}],2:[function(e,o){"use strict";function t(){n=document.createElement("div"),n.className="rad-geo-container",n.style.backgroundColor="cyan",document.body.appendChild(n),a("init")()}function i(){n.style.display="block",a("show")()}function r(){n.style.display="none",a("hide")()}function a(e){return function(o){l.push(s++ +" "+e+" "+(o?JSON.stringify(o):"")),l.length>10&&l.shift(),n.innerHTML=l.join("<br>"),o&&"function"==typeof o.callback&&o.callback()}}var n;alert("fixme!");var s=0,l=[];o.exports={initialize:t,setSpeed:a("setSpeed"),setZoom:a("setZoom"),setLoc:a("setLoc"),setGoto:a("setGoto"),show:i,hide:r}},{}]},{},["/Users/larsonj/Sites/radReveal/rad-geo/src/geo.js"]);